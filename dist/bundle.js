(()=>{"use strict";var t=document.querySelector(".list"),e=document.querySelector(".add-pizza-form"),n=document.querySelector(".check-all-pizzas"),r=document.querySelector(".forms-list");function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var s,d,p,f=[];e.addEventListener("submit",(function(e){e.preventDefault();var n=function(t,e){var n=e.title.value,r=e.price.value,i=e.image.value,a=e.description.value;if(console.log(((t=21)=>{let e="",n=crypto.getRandomValues(new Uint8Array(t));for(;t--;){let r=63&n[t];e+=r<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r<63?"_":"-"}return e})()),n&&r&&i&&a){var o={title:n,price:r,image:i,description:a,selected:!1,id:Date.now()};return[].concat(c(t),[o])}}(f,e.currentTarget);f=n,e.currentTarget.reset(),t.dispatchEvent(new CustomEvent("itemsUpdated"))})),t.addEventListener("itemsUpdated",(function(){t.innerHTML=function(t){return t.map((function(t){return"\n        <li class='pizza-item'>\n          <button value=\"".concat(t.id,"\" class='delete'>&times;</button>\n          <div class='pizza-item-image'>\n            <img src=\"").concat(t.image,'" alt="').concat(t.title,"\"/>\n          </div>\n          <div class='pizza-item-details'>\n            <div class='pizza-item-details-top'>\n              <div class='itemHeader'>\n                <input \n                  type='checkbox' \n                  value=\"").concat(t.id,'"\n                  ').concat(t.selected&&"checked","\n                  />\n                <span class='itemName'>").concat(t.title,"</span>\n              </div>\n              <span class='itemPrice'>").concat(t.price,"</span>\n            </div>\n            <span class='pizza-item-details-bottom'>").concat(t.description,"</span>\n          </div>\n        </li>\n      ")})).join("")}(f)})),t.addEventListener("itemsUpdated",(function(){r.innerHTML=function(t){return t.map((function(t){return'<form class="edit-pizza-form" autocomplete="off" id="'.concat(t.id,'">\n        <input type="text" name="title" value="').concat(t.title,'" placeholder="Title" />\n        <input type="text" name="price" value="').concat(t.price,'" placeholder="Price" />\n        <input type="text" name="image" value="').concat(t.image,'" placeholder="Image" />\n        <input type="text" name="description" value="').concat(t.description,'" placeholder="Description" />\n        <button type="submit">+ Редактировать</button>\n      </form>\n      ')})).join("")}(f)})),t.addEventListener("itemsUpdated",(function(){localStorage.setItem("items",JSON.stringify(f))})),t.addEventListener("click",(function(e){var n=parseInt(e.target.value);if(e.target.matches("button")){var r=function(t,e){return e.filter((function(e){return e.id!==t}))}(n,f);f=r,t.dispatchEvent(new CustomEvent("itemsUpdated"))}if(e.target.matches('input[type="checkbox"]')){var i=function(t,e){var n=e.find((function(e){return e.id===t})),r=e.findIndex((function(e){return e.id===t})),i=a(a({},n),{},{selected:!n.selected});return[].concat(c(e.slice(0,r)),[i],c(e.slice(r+1)))}(n,f);f=i,t.dispatchEvent(new CustomEvent("itemsUpdated"))}})),r.addEventListener("submit",(function(e){e.preventDefault();var n=function(t,e){var n=parseInt(t.id),r=t.title.value,i=t.price.value,o=t.image.value,u=t.description.value;if(r&&i&&o&&u){var l=e.find((function(t){return t.id===n})),s=e.findIndex((function(t){return t.id===n})),d=a(a({},l),{},{title:r,price:i,image:o,description:u});return[].concat(c(e.slice(0,s)),[d],c(e.slice(s+1)))}}(e.target,f);f=n,t.dispatchEvent(new CustomEvent("itemsUpdated"))})),(d=JSON.parse(localStorage.getItem("items")))&&d.length&&((s=f).push.apply(s,function(t){if(Array.isArray(t))return l(t)}(p=d)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(p)||function(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),t.dispatchEvent(new CustomEvent("itemsUpdated"))),n.addEventListener("click",(function(){var e=function(t){var e=0;return t.forEach((function(t){!0===t.selected&&e++})),e===t.length?t.map((function(t){return a(a({},t),{},{selected:!1})})):t.map((function(t){return a(a({},t),{},{selected:!0})}))}(f);f=e,t.dispatchEvent(new CustomEvent("itemsUpdated"))}))})();
//# sourceMappingURL=bundle.js.map